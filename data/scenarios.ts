import { Scenario } from '@/types';
import type { Lang } from '@/lib/translations';
import { scenariosEn } from './scenariosEn';

// サンプルシナリオデータ
export const sampleScenario: Scenario = {
  id: 'scenario-001',
  difficulty: 'easy',
  title: '外部からのメール受信',
  description: 'あなたは会社でメールを確認しています。以下のシナリオから情報セキュリティ上の危険ポイントを見つけてください。',
  situation: `
月曜日の朝、あなたのメールボックスに取引先の担当者から「緊急:請求書の修正について」という件名のメールが届きました。

メール本文:
「お世話になっております。先日送付した請求書に誤りがありました。
添付ファイルの修正版をご確認いただき、早急に経理部門へ転送をお願いいたします。
また、パスワードは別途SMS でお送りしますので、解凍してご確認ください。」

添付ファイル: 請求書_修正版.zip

送信元メールアドレス: tanaka@examp1e-company.com
（いつもの担当者は tanaka@example-company.com）

あなたは急いでいたため、すぐに添付ファイルを開こうとしています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-001',
      text: '送信元のメールアドレスが普段と異なる（examp1e の"l"が数字の"1"になっている）',
      isCorrect: true,
      explanation: 'フィッシング攻撃でよく使われる手法です。正規のドメインに似せた偽のドメインから送信されています。数字の"1"とアルファベットの"l"を見間違えやすいことを利用しています。'
    },
    {
      id: 'point-002',
      text: 'ZIP形式の添付ファイルがある',
      isCorrect: true,
      explanation: 'ZIPファイルはマルウェアを隠すために頻繁に使用されます。特にパスワード付きZIPは、セキュリティソフトによるスキャンを回避する目的で使用されることがあります。'
    },
    {
      id: 'point-003',
      text: 'パスワードをSMSで送ると書かれている',
      isCorrect: true,
      explanation: '通常、業務上のパスワード共有でSMSを使用することは稀です。また、パスワード付きファイルは正規のセキュリティチェックを回避するためによく使われます。'
    },
    {
      id: 'point-004',
      text: '「緊急」という言葉で焦らせている',
      isCorrect: true,
      explanation: '攻撃者は受信者を焦らせて、慎重な確認を省略させようとします。「緊急」「至急」などの言葉には注意が必要です。'
    },
    {
      id: 'point-005',
      text: 'メールの文面が丁寧で問題ない',
      isCorrect: false,
      explanation: 'フィッシングメールでも丁寧な文面を使用することがあります。文面の丁寧さだけでは安全性を判断できません。'
    },
    {
      id: 'point-006',
      text: '取引先からのメールなので信頼できる',
      isCorrect: false,
      explanation: '取引先を装ったメールかもしれません。送信元アドレスやメールの内容を慎重に確認する必要があります。'
    }
  ]
};

// 2つ目のサンプルシナリオ（公共Wi-Fi・USB）
export const sampleScenario2: Scenario = {
  id: 'scenario-002',
  difficulty: 'easy',
  title: '出張先での作業',
  description: 'あなたは出張先のカフェで作業しています。以下のシナリオから情報セキュリティ上の危険ポイントを見つけてください。',
  situation: `
出張先のカフェに到着したあなたは、明日の会議資料を仕上げる必要があります。

カフェのフリーWi-Fiに接続し、クラウドストレージから資料をダウンロードして編集を始めました。
隣の席の人が「USBメモリを落としましたか？」と声をかけ、見知らぬUSBメモリを差し出しました。
「いえ、違います」と答えると、その人は「じゃあ誰かの忘れ物ですね。使えるかもしれませんよ」と言ってテーブルに置いていきました。

あなたは作業に集中するため、そのUSBメモリは気にせず、編集した資料をクラウドにアップロードしてメールで送信しようとしています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-201',
      text: 'フリーWi-Fiでクラウドやメールにアクセスしている',
      isCorrect: true,
      explanation: '公共のWi-Fiは盗聴や中間者攻撃のリスクがあります。機密資料のやり取りはVPNやモバイル回線の利用を検討しましょう。'
    },
    {
      id: 'point-202',
      text: '見知らぬ人から渡されたUSBメモリがテーブルに置かれたまま',
      isCorrect: true,
      explanation: '不正なUSBデバイス（バッテリーキラーやマルウェア入り）を置いていく手口があります。拾得したUSBは接続せず、施設の管理者に届けるのが安全です。'
    },
    {
      id: 'point-203',
      text: '編集した資料をその場で送信しようとしている',
      isCorrect: true,
      explanation: '公共の場では画面の覗き見（ショルダーハッキング）のリスクがあります。機密情報の取り扱いが目立つ作業は避け、安全な環境で行いましょう。'
    },
    {
      id: 'point-204',
      text: 'カフェで作業している',
      isCorrect: false,
      explanation: '場所そのものより、そこで何をどう扱うか（Wi-Fi、デバイス、画面）がリスク要因です。'
    },
    {
      id: 'point-205',
      text: 'クラウドストレージを使っているので安全',
      isCorrect: false,
      explanation: 'クラウド利用中でも、通信経路が暗号化されていないWi-Fiであれば盗聴の危険があります。'
    }
  ]
};

// 3つ目のシナリオ（情報セキュリティマネジメント 科目B 題材：クラウド導入・委託先管理）
export const sampleScenario3: Scenario = {
  id: 'scenario-003',
  difficulty: 'easy',
  title: 'クラウドサービス導入と委託先への情報提供',
  description: '情報セキュリティマネジメント試験 科目B を題材にしたシナリオです。業務でクラウドサービスを導入し、委託先にデータを渡す際の危険ポイントを見つけてください。',
  situation: `
あなたの部門では、業務効率化のためクラウド型のファイル共有サービス（業者A社提案）の導入を検討しています。
また、同時に外部の開発会社B社に、既存システムの改修を委託する予定です。

【クラウドサービスについて（A社からの説明）】
・無料トライアルから始められ、すぐに使い始められる
・初期設定のパスワードは担当者にメールで送付する
・管理者アカウントは1名で運用可能
・データはコスト削減のため海外のデータセンターにも保存される
・ログインにはIDとパスワードのみで、社内ポリシーに合わせて「2要素認証は任意」としている

【委託先B社への情報提供について（上司の指示）】
・開発に必要な顧客マスタのサンプルを、明日の打ち合わせでUSBメモリで手渡しする
・機密保持に関するNDAは、開発着手後に締結する予定
・B社との連絡は、これまで通りメールとチャットアプリで行う（チャットはログが残らない設定）

あなたは、このまま進めてよいか確認したいと考えています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-301',
      text: 'パスワードをメールで送付する運用になっている',
      isCorrect: true,
      explanation: 'メールは盗聴・漏洩のリスクがあり、認証情報の送付には不適切です。初期パスワードは安全な経路で渡し、初回ログイン時に変更を義務づける運用が望ましいです（科目B：IT利用における情報セキュリティ確保）。'
    },
    {
      id: 'point-302',
      text: '管理者が1名のみで、2要素認証が任意である',
      isCorrect: true,
      explanation: '管理者の単独運用は権限集中・継続性のリスクがあります。2要素認証を任意にすると、パスワード漏洩時に不正ログインされやすく、クラウドサービスの安全な利用の観点で問題です（科目B：クラウド利用時のセキュリティ）。'
    },
    {
      id: 'point-303',
      text: 'データが海外のデータセンターに保存される',
      isCorrect: true,
      explanation: '個人情報や機密データは、個人情報保護法や業界ガイドラインで域外保存が制限・禁止されている場合があります。データの保存場所は契約前に確認し、必要なら国内のみとする要件を入れます（科目B：情報資産管理・リスクアセスメント）。'
    },
    {
      id: 'point-304',
      text: '顧客データをUSBメモリで手渡しする予定である',
      isCorrect: true,
      explanation: 'USBは紛失・盗難のリスクが高く、暗号化やアクセス制御がなければ情報漏洩につながります。委託先への提供は、安全な経路と最小限のデータに限定する必要があります（科目B：委託先管理）。'
    },
    {
      id: 'point-305',
      text: 'NDAを開発着手後に締結する予定である',
      isCorrect: true,
      explanation: 'NDA（Non-Disclosure Agreement：秘密保持契約）は、業務上知り得た機密情報を第三者に漏らさないことや、目的外に使わないことを契約で定めるものです。機密情報を委託先に渡す前に締結しておく必要があり、提供後に結んでも渡した時点では法的な保護が不十分です。委託先管理では、情報提供の前に関係者とのNDA締結が求められます（科目B：委託先管理）。'
    },
    {
      id: 'point-306',
      text: 'チャットはログが残らない設定で業務連絡に使う',
      isCorrect: true,
      explanation: 'ログが残らないチャットで機密や個人情報をやり取りすると、記録が残らず監査・事後確認ができません。委託先との連絡内容の管理と証跡の残し方を決めておく必要があります（科目B：情報資産管理）。'
    },
    {
      id: 'point-307',
      text: '無料トライアルから始めるのでコストが抑えられる',
      isCorrect: false,
      explanation: '無料か有料かより、サービス内容・契約条件・セキュリティ要件（データ保存場所、暗号化、ログなど）の確認が重要です。無料であること自体は危険ポイントではありません。'
    },
    {
      id: 'point-308',
      text: 'クラウドサービスなので社内サーバより安全である',
      isCorrect: false,
      explanation: 'クラウドの安全性は設定・契約・運用次第です。適切なアクセス制御や暗号化がなければ危険です。「クラウド＝安全」と決めつけず、要件を満たしているか評価する必要があります。'
    }
  ]
};

// 4つ目のシナリオ（委託先に個人情報リストを渡す際のリスク）
export const sampleScenario4: Scenario = {
  id: 'scenario-004',
  difficulty: 'easy',
  title: '委託先への個人情報リストの提供',
  description: 'あなたは委託先に個人情報リストを渡す業務を担当しています。以下のシナリオから情報セキュリティ上の危険ポイントを見つけてください。',
  situation: `
あなたの部門では、顧客向けDM発送を外部の委託先C社に依頼することになりました。
上司から「C社に送付用の個人情報リストを渡してほしい」と指示されています。

【現在の手順（上司の説明）】
・リストはExcelで作成し、メールに添付してC社担当者に送る
・C社とは長年の取引があるので、委託契約や秘密保持の書面は「後でまとめて締結する」予定
・リストには氏名・住所・電話番号のほか、過去の購入履歴も含めて渡す（「C社が分析に使うかも」とのこと）
・作業完了後のリストの返却や削除については、特に取り決めがない

【C社担当者からの連絡】
・「ファイルが重いので、共有フォルダ（パスワードは1234で設定済み）にアップロードしてほしい」とメッセージが届いた

あなたは、このままリストを渡してよいか確認したいと考えています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-401',
      text: '個人情報リストをメール添付で送る予定である',
      isCorrect: true,
      explanation: 'メールは盗聴・誤送信・転送のリスクがあり、個人情報の送付には不適切です。委託先への提供は、暗号化や安全なファイル転送サービスなど、漏洩リスクの低い経路で行う必要があります。'
    },
    {
      id: 'point-402',
      text: '委託契約・秘密保持契約を「後で締結する」予定である',
      isCorrect: true,
      explanation: '個人情報を渡す前に、委託先との契約（業務委託契約・秘密保持契約・個人情報取扱いの取り決め）を締結しておく必要があります。渡した後に契約しても、渡した時点では法的な保護が不十分です。'
    },
    {
      id: 'point-403',
      text: '購入履歴など、DM発送に不要な情報もリストに含めて渡す予定である',
      isCorrect: true,
      explanation: '個人情報の提供は「委託業務に必要な範囲」に限定する必要があります（利用目的の特定・必要最小限の原則）。不要な情報を含めると漏洩時の影響が大きくなり、個人情報保護法の観点でも問題です。'
    },
    {
      id: 'point-404',
      text: '作業完了後のリストの返却・削除の取り決めがない',
      isCorrect: true,
      explanation: '委託先に渡した個人情報の保管期間、返却・削除の方法、委託終了後の取扱いを契約や依頼書で明示しておく必要があります。取り決めがないと、委託先にデータが残り続け、二次利用や漏洩のリスクが高まります。'
    },
    {
      id: 'point-405',
      text: '共有フォルダのパスワードが「1234」のように推測されやすい',
      isCorrect: true,
      explanation: '個人情報を置く共有場所は、推測されにくい強固なパスワードと、必要最小限のアクセス権設定が求められます。弱いパスワードでは第三者にアクセスされるリスクがあります。'
    },
    {
      id: 'point-406',
      text: 'C社は長年の取引先なので信頼できる',
      isCorrect: false,
      explanation: '取引歴があっても、個人情報を渡す前には契約の締結・提供範囲の明確化・安全な受け渡し方法の確保が必要です。信頼だけで手続きを省略するのは危険です。'
    },
    {
      id: 'point-407',
      text: 'Excelでリストを作成している',
      isCorrect: false,
      explanation: '形式そのものより、渡す経路（メール・共有フォルダの設定）や渡す範囲・契約の有無がリスク要因です。Excel自体が危険というわけではありません。'
    }
  ]
};

// ========== 難しいシナリオ（各テーマの応用編） ==========

// 1の応用：メール（取引先を装った巧妙なBEC風）
export const sampleScenario001Hard: Scenario = {
  id: 'scenario-001-hard',
  difficulty: 'hard',
  title: '外部からのメール受信（応用）',
  description: '取引先を装ったメールが届きました。易しい版より手口が巧妙です。危険ポイントを見極めてください。',
  situation: `
月曜の朝、あなたのメールボックスには、人事から回ってきた「取引先・パートナー社の山田様が昨日付で退職されました」という共有が未読のまま届いています。あなたはまだ目を通していません。

そのような中、以下のメールが届きました。送信元は普段やり取りしているアドレス（yamada@partner-company.co.jp）と同一です。

────────────────────────────────────────
差出人: 山田 太郎 <yamada@partner-company.co.jp>
宛先: （あなたのメールアドレス）
日付: 2025年1月13日 9:02
件名: 【重要】請求書の振込先変更のご案内
添付: 振込先変更のご案内.pdf (1 file)
────────────────────────────────────────

お世話になっております。

経理部門の都合により、今期より振込先口座が変更となりました。
添付のPDFに新しい口座情報が記載されておりますので、今後のご請求分より新口座へお振込みいただけますと幸いです。
お手数ですが、1月20日までにご確認のうえ、社内手続きをお願いいたします。

パートナー株式会社
経理部 山田 太郎

────────────────────────────────────────

なお、振込先の変更については、社内マニュアルに「取引先から書面で正式通知が届くまで振込先は変更しない」と定められています。

あなたは件名の「重要」と期限に気を取られ、添付を開いて確認しようとしています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-001h-1',
      text: '振込先変更をメールと添付のみで依頼している',
      isCorrect: true,
      explanation: '振込先変更は詐欺でよく使われる手口です。正規の取引では書面・複数経路での確認が一般的です。メールと添付だけでの変更依頼は、取引先を装ったBEC（ビジネスメール詐欺）の可能性が高いです。'
    },
    {
      id: 'point-001h-2',
      text: '「重要」「期限」で急かす表現がある',
      isCorrect: true,
      explanation: '攻撃者は緊急性を演出して、社内の確認手続きを省略させようとします。振込先変更は特に慎重な確認が必要です。'
    },
    {
      id: 'point-001h-3',
      text: '送信元アドレスが普段と同一でも、送信者が別人の可能性がある',
      isCorrect: true,
      explanation: 'メールアドレスは偽装やアカウント乗っ取りで「正規と同じ」に見せることができます。アドレスが同じでも、振込先変更のような重要な依頼は別経路で本人確認が必要です。'
    },
    {
      id: 'point-001h-4',
      text: '社内マニュアル（書面での正式通知まで変更しない）に反する手順である',
      isCorrect: true,
      explanation: '振込先変更は社内規定・マニュアルに沿った手順で行う必要があります。メールのみの依頼は規定違反の可能性が高く、詐欺の兆候です。'
    },
    {
      id: 'point-001h-5',
      text: 'PDF形式なのでZIPより安全である',
      isCorrect: false,
      explanation: 'PDFもマルウェアやフィッシングに悪用されることがあります。形式より「振込先変更をメール添付だけで依頼している」という手口が問題です。'
    },
    {
      id: 'point-001h-6',
      text: '取引先の正式なアドレスからなので信頼できる',
      isCorrect: false,
      explanation: 'アドレスが正規でも、退職者や乗っ取りで第三者が送っている可能性があります。重要な依頼はアドレス確認だけでなく、別経路での本人確認が求められます。'
    }
  ]
};

// 2の応用：出張先・リモート（ホテルWi-Fi・共有PC）
export const sampleScenario002Hard: Scenario = {
  id: 'scenario-002-hard',
  difficulty: 'hard',
  title: '出張先での作業（応用）',
  description: '出張先のホテルで作業しています。一見安全そうな環境にも危険が潜みます。危険ポイントを見つけてください。',
  situation: `
出張先のホテルに宿泊しているあなたは、翌日のプレゼン資料の最終確認をしています。

ホテルの「ゲスト用セキュアWi-Fi」に接続し、社内ポータルにログインして資料をダウンロードしました。
ルームに備え付けの「ビジネスセンター利用可」の案内に従い、フロントで借りたUSBメモリに資料をコピーし、1階のビジネスコーナーにある共用PCでプレゼン資料を開いて印刷しようとしています。
ビジネスコーナーには「ご利用後はログアウトしてください」と注意書きがあります。

あなたは時間がなく、共用PCに「ゲスト」という名前でログインしたまま、USBから資料を開いて印刷ボタンを押そうとしています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-002h-1',
      text: 'ホテルの「セキュアWi-Fi」でも、同じネットワークの他宿泊者がいる',
      isCorrect: true,
      explanation: 'ゲスト用Wi-Fiは同一ネットワーク内に不特定多数がいるため、適切に分離されていなければ盗聴・スニッフィングのリスクがあります。機密資料のやり取りはVPNやモバイル回線の利用を検討しましょう。'
    },
    {
      id: 'point-002h-2',
      text: '共用PCで社内の機密資料を開いている',
      isCorrect: true,
      explanation: '共用PCにはキーロガーやキャッシュ残留のリスクがあります。社内資料を共用PCで開くと、後から利用した第三者に内容が残ったり、操作が記録されたりする可能性があります。'
    },
    {
      id: 'point-002h-3',
      text: 'USBメモリをホテル経由で借りて社内資料をコピーしている',
      isCorrect: true,
      explanation: '貸出用USBは不特定多数が使用するため、マルウェアが仕込まれている可能性があります。社内端末や私物USBに社外のUSBを接続すると感染リスクが高まります。'
    },
    {
      id: 'point-002h-4',
      text: '「ゲスト」でログインしたまま資料を扱い、ログアウトしていない',
      isCorrect: true,
      explanation: '共用PCをログアウトせずに利用している、または離席すると、次の利用者に画面やファイルが残り、情報漏洩につながります。利用後は必ずログアウトし、一時ファイルの削除も検討します。'
    },
    {
      id: 'point-002h-5',
      text: 'ビジネスコーナーはホテル管理なので安全である',
      isCorrect: false,
      explanation: '施設が管理していても、共用PC・共用ネットワークである限り、盗聴・残留・マルウェアのリスクは残ります。安全なのは「自分専用の端末と安全な回線」です。'
    },
    {
      id: 'point-002h-6',
      text: '資料を印刷するだけなので読み取り専用で問題ない',
      isCorrect: false,
      explanation: '開いた時点でPCのメモリやキャッシュにデータが残ります。読み取り専用でも、共用PCで機密資料を開くこと自体がリスクです。'
    }
  ]
};

// 3の応用：クラウド・委託（サブプロセッサ・監査）
export const sampleScenario003Hard: Scenario = {
  id: 'scenario-003-hard',
  difficulty: 'hard',
  title: 'クラウドサービス導入と委託先への情報提供（応用）',
  description: 'クラウド契約と委託先管理が進んでいます。契約書や運用の「抜け」に注目して危険ポイントを見つけてください。',
  situation: `
クラウド型ファイル共有サービス（A社）の契約は締結済みで、委託先B社への顧客マスタ提供も、暗号化USBとNDA締結済みで行われています。

【追加で検討している運用】
・A社のサービスは、A社が「提携パートナー」として紹介する外部の分析ツール（D社）と連携でき、連携すると利用状況のレポートが自動で取得できる
・契約書には「A社およびA社が選定したサブプロセッサがデータを処理する」とあり、D社の名前やデータの扱いは個別には記載されていない
・B社との連絡は、B社の要望で「やり取りが早い」という理由で、ログが残るチャットから、ログが残らない別のチャットアプリに切り替えようとしている

あなたは、これらの運用をこのまま進めてよいか確認したいと考えています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-003h-1',
      text: 'サブプロセッサ（D社）が契約書に個別に明示されておらず、データの扱いが不明である',
      isCorrect: true,
      explanation: '個人情報や機密データを処理するサブプロセッサは、契約で明示し、データの保管場所・目的・保護措置を確認する必要があります。曖昧な記載のまま連携すると、第三者へのデータ提供が適切に管理されません。'
    },
    {
      id: 'point-003h-2',
      text: '「提携パートナー」の分析ツールにデータが渡る可能性がある',
      isCorrect: true,
      explanation: '連携機能により、社内データがA社以外（D社）に送られる可能性があります。データの流れと第三者提供の範囲を契約・設定で明確にし、必要なら同意や評価が必要です。'
    },
    {
      id: 'point-003h-3',
      text: 'B社との連絡をログが残らないチャットに切り替えようとしている',
      isCorrect: true,
      explanation: '委託先との業務連絡でログが残らないツールにすると、契約履行の証跡や監査が残らず、トラブル時の説明責任を果たせません。委託管理では記録が残る手段を維持する必要があります。'
    },
    {
      id: 'point-003h-4',
      text: 'B社の「やり取りが早い」という要望だけで通信手段を変更している',
      isCorrect: true,
      explanation: '利便性だけでログが残らない手段にすると、セキュリティとコンプライアンスの観点で後から問題になりやすいです。委託先との連絡手段は社内規定に合わせて選ぶ必要があります。'
    },
    {
      id: 'point-003h-5',
      text: 'NDAと暗号化USBが済んでいるので問題ない',
      isCorrect: false,
      explanation: 'B社への提供は適切でも、クラウドの連携機能やサブプロセッサ、ログが残らないチャットへの切り替えは別のリスクです。運用全体を確認する必要があります。'
    },
    {
      id: 'point-003h-6',
      text: 'A社が選定したパートナーなので安全である',
      isCorrect: false,
      explanation: 'ベンダーが選定したからといって、自社のデータが誰にどのように渡るかは契約と設定で確認すべきです。サブプロセッサの明示と評価が求められます。'
    }
  ]
};

// 4の応用：個人情報リスト委託（再委託・目的外利用）
export const sampleScenario004Hard: Scenario = {
  id: 'scenario-004-hard',
  difficulty: 'hard',
  title: '委託先への個人情報リストの提供（応用）',
  description: '委託先へのリスト提供は、安全な経路と契約で行うようになりました。さらに踏み込んだ危険ポイントを見つけてください。',
  situation: `
委託先C社への個人情報リストの提供は、専用の安全なファイル転送サービスと、委託契約・秘密保持・個人情報取扱いの締結済みで行っています。リストはDM発送に必要な氏名・住所・送付先のみに限定しています。

【新たな依頼（上司からの説明）】
・C社から「同じ業種向けの別キャンペーンでもリストを流用したい。顧客区分（A/B/C）だけ追加で渡してほしい」と打診があった
・上司は「同じC社だし、区分だけなら渡してもよいのでは」と検討している
・リストの返却・削除は「委託契約の終了時」と契約に書いてあるが、今回の「別キャンペーンでの流用」は契約書の利用目的には「DM発送のため」としか書いていない

あなたは、この流用と区分の追加提供を許可してよいか確認したいと考えています。
  `.trim(),
  dangerPoints: [
    {
      id: 'point-004h-1',
      text: '契約した利用目的（DM発送）以外のキャンペーンでリストを流用しようとしている',
      isCorrect: true,
      explanation: '個人情報は利用目的の特定と一致した範囲で利用する必要があります。契約目的外の「別キャンペーンでの流用」は目的外利用に当たり、本人の同意や契約の変更が必要です。'
    },
    {
      id: 'point-004h-2',
      text: '「顧客区分」を追加で渡すことは、提供する個人データの範囲の変更である',
      isCorrect: true,
      explanation: '当初は氏名・住所・送付先のみだったのに、区分を追加すると、提供データの範囲が変わります。目的外利用や範囲拡大は、契約の見直しと必要に応じた本人の同意が求められます。'
    },
    {
      id: 'point-004h-3',
      text: '契約書の利用目的に「別キャンペーンでの流用」が含まれていない',
      isCorrect: true,
      explanation: '利用目的が「DM発送のため」のみであれば、同じ委託先でも別目的での利用は契約違反の可能性があります。目的を拡大するなら契約の変更と記録が必要です。'
    },
    {
      id: 'point-004h-4',
      text: '「同じC社」という理由だけで追加提供を検討している',
      isCorrect: true,
      explanation: '委託先が同じでも、利用目的が違えば別の提供行為です。必要性・目的の明確化・契約・記録が求められ、「同じ会社だから」で判断するのは危険です。'
    },
    {
      id: 'point-004h-5',
      text: '安全なファイル転送と契約が済んでいるので問題ない',
      isCorrect: false,
      explanation: '経路と基本契約は整っていても、今回の「目的外での流用」と「提供範囲の拡大」は別のリスクです。利用目的と提供範囲の管理が重要です。'
    },
    {
      id: 'point-004h-6',
      text: '顧客区分は個人を特定しないので提供してよい',
      isCorrect: false,
      explanation: '氏名・住所などと組み合わせれば個人を特定できます。区分の追加は「個人データの項目の追加」であり、目的と契約の範囲で検討する必要があります。'
    }
  ]
};

// 複数のシナリオを配列として管理（日本語）
export const scenarios: Scenario[] = [
  sampleScenario,
  sampleScenario2,
  sampleScenario3,
  sampleScenario4,
  sampleScenario001Hard,
  sampleScenario002Hard,
  sampleScenario003Hard,
  sampleScenario004Hard,
];

// 言語に応じたシナリオ一覧を取得
export function getScenarios(lang: Lang): Scenario[] {
  return lang === 'en' ? scenariosEn : scenarios;
}

// id と言語からシナリオを取得するヘルパー
export function getScenarioById(id: string, lang?: Lang): Scenario | undefined {
  const list = lang === 'en' ? scenariosEn : scenarios;
  return list.find((s) => s.id === id);
}
